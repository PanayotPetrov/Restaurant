@using Microsoft.Extensions.Options
@using Microsoft.AspNetCore.Localization
@using Restaurant.Web.ViewModels.InputModels

@model UserMessageInputModel
@{
    this.ViewData["Title"] = SL["CONTACTS"];

    var requestCulture = Context.Features.Get<IRequestCultureFeature>();

    var isInSecondaryLanguage = requestCulture.RequestCulture.Culture.Name == "bg";
    var categories = this.Model.Categories
        .Where(x => x.IsInSecondaryLanguage == isInSecondaryLanguage)
        .Select(x => 
            new SelectListItem(x.Name, x.Id.ToString()));
}

<partial name="_HeroPartial" />

<div class="container-xxl py-5">
    <div class="container">
        <div class="row g-4">
            <div class="col-12">
                <div class="row gy-4">
                    <div class="col-md-3">
                        <h5 class="section-title ff-secondary fw-normal text-start text-primary">@L["BOOKING"]</h5>
                        <p><i class="fa fa-envelope-open text-primary me-2"></i>book@example.com</p>
                    </div>
                    <div class="col-md-3">
                        <h5 class="section-title ff-secondary fw-normal text-start text-primary">@L["GENERAL"]</h5>
                        <p><i class="fa fa-envelope-open text-primary me-2"></i>info@example.com</p>
                    </div>
                    <div class="col-md-3">
                        <h5 class="section-title ff-secondary fw-normal text-start text-primary">@L["TECHNICAL"]</h5>
                        <p><i class="fa fa-envelope-open text-primary me-2"></i>tech@example.com</p>
                    </div>
                    <div class="col-md-3">
                        <h5 class="section-title ff-secondary fw-normal text-start text-primary">@L["FRONT_OFFICE"]</h5>
                        <p><i class="fa fa-envelope-open text-primary me-2"></i>+359 123 456 789</p>
                    </div>
                </div>
            </div>
            <div class="col-md-6 wow fadeIn" data-wow-delay="0.1s">
                <iframe class="position-relative rounded w-100 h-100"
                        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2932.660619808539!2d23.317585015889755!3d42.689730822210166!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x40aa85128bd8ae7f%3A0xc244508426d8dc3f!2sul.%20%22Han%20Asparuh%22%2037%2C%201000%20Sofia%20Center%2C%20Sofia!5e0!3m2!1sen!2sbg!4v1644333568620!5m2!1sen!2sbg" frameborder="0" style="min-height: 350px; border:0;" allowfullscreen="" aria-hidden="false"
                        tabindex="0"></iframe>
            </div>
            <div class="col-md-6">
                <div class="wow fadeInUp" data-wow-delay="0.2s">
                    <form method="post">
                        <div class="row g-3">
                            <div class="col-md-6">
                                <div class="form-floating">
                                    <input asp-for="Name" class="form-control">
                                    <label asp-for="Name">@SL["YOUR_NAME"]</label>
                                    <span asp-validation-for="Name"></span>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-floating">
                                    <input asp-for="Email" class="form-control">
                                    <label asp-for="Email">@SL["EMAIL"]</label>
                                    <span asp-validation-for="Email"></span>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-floating">
                                    <input asp-for="Subject" class="form-control">
                                    <label asp-for="Subject">@L["SUBJECT"]</label>
                                    <span asp-validation-for="Subject"></span>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-floating">
                                    <select asp-for="UserMessageCategoryId" class="form-select" asp-items="categories"></select>
                                    <label asp-for="UserMessageCategoryId">@L["CHOOSE_CATEGORY"]</label>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-floating">
                                    <textarea asp-for="Description" class="form-control" style="height: 150px"></textarea>
                                    <label asp-for="Description">@L["DESCRIPTION"]</label>
                                    <span asp-validation-for="Description"></span>
                                </div>
                            </div>
                            <div class="col-12">
                                <button class="btn btn-primary w-100 py-3" type="submit">@SL["SEND"]</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>