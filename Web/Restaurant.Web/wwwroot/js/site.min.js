function ChangeMenuItemQuantity(n){var r=document.getElementById(n),i=r.querySelector("input"),t=Number.parseInt(i.getAttribute("value")),u=event.srcElement;u.classList.contains("btn-plus")?t++:t>1&&t--;i.setAttribute("value",t)}function AddToCart(n){var t=n.substring(13),i=document.getElementById(n),r=i.querySelector("input").value;const u={mealId:t,quantity:r};$.ajax({url:"/Cart/AddToCart",type:"POST",data:JSON.stringify(u),contentType:"application/json",success:function(n,t,i){if(i.status===200){let n=JSON.parse(i.responseText);$("#addToCartModalLabel").text(n.success);$("#addToCartModalBody").text(n.successMessage);$("#addToCartModal").modal("show");$("#cartSubTotalBtn").html('<i class="fa-solid fa-cart-shopping"><\/i> '+n.cartSubtotal+" $")}},error:function(n){let t,i,u=GetCurrentLanguage();if(u=="bg"?(t='<li class="text-danger"> Трябва да се логнете преди да може да добавяте продукти! <\/li>',i="Опа..."):(t='<li class="text-danger"> You need to log in to add items to your cart! <\/li>',i="Oops..."),$("#addToCartModalLabel").text(i),n.responseText.length==0)$("#addToCartModalBody").append(t);else{let t=JSON.parse(n.responseText);for(var r=0;r<t.length;r++)$("#addToCartModalBody").append('<li class="text-danger">'+t[r]+"<\/li>")}$("#addToCartModal").modal("show")}});$("#addToCartModalCloseButton").click(function(){$("#addToCartModal").modal("hide");$("#addToCartModalBody").text("")})}function GetAddress(){var n=$("#addressNames").val(),t=$("#cartItemsCount").val();$.ajax({url:"/Checkout/GetAddressDetails",type:"GET",data:{addressName:n,cartItemsCount:t},success:function(n,t,i){if(i.status===200){var r=JSON.parse(i.responseText);$("#street").val(r.street);$("#addressLine2").val(r.addressLineTwo);$("#district").val(r.district);$("#city").val(r.city);$("#country").val(r.country);$("#postCode").val(r.postCode);$("#addressId").val(r.id)}}})}function ChangeCartItemQuantity(n){var i=n.substring(17),r=document.getElementById(n),t=r.querySelector("input").value,u=event.srcElement;u.classList.contains("btn-plus")?(t++,t<=100):(t--,t>=1);const f={mealId:i,quantity:t};$.ajax({url:"/Cart/ChangeQuantity",type:"POST",data:JSON.stringify(f),contentType:"application/json",success:function(n,t,u){if(u.status===200){var f=JSON.parse(u.responseText);r.querySelector("input").setAttribute("value",f.quantity);$("#cartSubTotalBtn").html('<i class="fa-solid fa-cart-shopping"><\/i> '+f.cartSubTotal+" $");$("#cartSubTotalCard").html(f.cartSubTotal+" $");$("#cartItemTotalPrice"+i).html(f.itemTotalPrice+" $");$("#cartTotalPrice").html(f.cartTotalPrice+" $")}},error:function(n){var i,t;for($("#cartModalLabel").text("Oops!"),i=JSON.parse(n.responseText),t=0;t<i.length;t++)$("#cartModalBody").append('<li class="text-danger">'+i[t]+"<\/li>");$("#cartModal").modal("show")}});$("#cartModalCloseButton").click(function(){$("#cartModal").modal("hide");$("#cartModalBody").text("")})}function RemoveFromCart(n){var t=n.substring(17);const i={mealId:t};$.ajax({url:"/Cart/RemoveFromCart",type:"POST",data:JSON.stringify(i),contentType:"application/json",success:function(i,r,u){var f,e,o,s;u.status===200&&(f=Number.parseFloat($("#cartItemTotalPrice"+t).text()),e=Number.parseFloat($("#cartSubTotalBtn").text()),console.log(e),o=Number.parseFloat($("#cartSubTotalCard").text()),s=Number.parseFloat($("#cartTotalPrice").text()),$("#cartSubTotalBtn").html('<i class="fa-solid fa-cart-shopping"><\/i> '+(e-f).toFixed(2)+' <i class="fas fa-dollar-sign"><\/i>'),$("#cartSubTotalCard").html((o-f).toFixed(2)+' <i class="fas fa-dollar-sign"><\/i>'),$("#cartTotalPrice").html((s-f).toFixed(2)+' <i class="fas fa-dollar-sign"><\/i>'),$("#"+n).remove())}})}function GetCurrentLanguage(){let t=document.cookie.split(";");for(var n=0;n<t.length;n++){let i=t[n].split("="),r=i[0];if(r==" .AspNetCore.Culture"){let n=i[1],t=n.split("%").slice(-1);return t[0].slice(-2)}}}